<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>GuestsValencia · Sandra ProTech – Demo 3 rutas de audio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>🎙️ Sandra ProTech · Demo 3 rutas: Dictado · Conversación · Avatar</h1>
    <p class="sub">Arquitectura sin conflictos de micrófono · STT con idioma forzado</p>
  </header>

  <section class="grid">
    <div class="card">
      <h2>1) Selección de dispositivos</h2>
      <div class="row">
        <label>Micrófono de entrada</label>
        <select id="micSelect"></select>
      </div>
      <div class="row">
        <label>Salida · Conversación (Sandra)</label>
        <select id="outSelectRealtime"></select>
      </div>
      <div class="row">
        <label>Salida · Avatar</label>
        <select id="outSelectAvatar"></select>
      </div>
      <div class="row">
        <label>Idioma STT (forzado)</label>
        <select id="sttLang">
          <option value="">Auto</option>
          <option value="es">Español (es)</option>
          <option value="en">English (en)</option>
          <option value="fr">Français (fr)</option>
          <option value="it">Italiano (it)</option>
          <option value="de">Deutsch (de)</option>
          <option value="pt">Português (pt)</option>
        </select>
      </div>
      <div class="row">
        <button id="btnInit">Inicializar audio</button>
        <span id="initStatus" class="status"></span>
      </div>
    </div>

    <div class="card">
      <h2>2) Dictado → Texto (STT)</h2>
      <div class="row">
        <button id="btnStartSTT">Iniciar Dictado</button>
        <button id="btnStopSTT" disabled>Detener Dictado</button>
        <span id="sttStatus" class="status"></span>
      </div>
      <textarea id="sttTranscript" placeholder="Transcripción en vivo..." rows="8"></textarea>
    </div>

    <div class="card">
      <h2>3) Conversación en tiempo real (OpenAI Realtime)</h2>
      <div class="row">
        <button id="btnStartRT">Conectar Conversación</button>
        <button id="btnStopRT" disabled>Desconectar</button>
        <span id="rtStatus" class="status"></span>
      </div>
      <div class="row">
        <label>Modelo</label>
        <input id="rtModel" value="gpt-4o-realtime-preview-2024-12-17">
      </div>
      <audio id="rtAudio" autoplay></audio>
    </div>

    <div class="card">
      <h2>4) Avatar (RTC del proveedor)</h2>
      <div class="row">
        <button id="btnStartAV">Conectar Avatar</button>
        <button id="btnStopAV" disabled>Desconectar</button>
        <span id="avStatus" class="status"></span>
      </div>
      <video id="avVideo" autoplay playsinline></video>
      <audio id="avAudio" autoplay></audio>
      <div class="small">*Integra el SDK/RTC del proveedor (HeyGen/GIGN/Cartesia) en app.js → sección Avatar.</div>
    </div>
  </section>

  <footer>
    <p>© <span id="year"></span> GuestsValencia · Demo técnica. Construido con cariño para Claytis 💙</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
