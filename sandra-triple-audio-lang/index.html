<!doctype html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <title>GuestsValencia Â· Sandra ProTech â€“ Demo 3 rutas de audio</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>ğŸ™ï¸ Sandra ProTech Â· Demo 3 rutas: Dictado Â· ConversaciÃ³n Â· Avatar</h1>
    <p class="sub">Arquitectura sin conflictos de micrÃ³fono Â· STT con idioma forzado</p>
  </header>

  <section class="grid">
    <div class="card">
      <h2>1) SelecciÃ³n de dispositivos</h2>
      <div class="row">
        <label>MicrÃ³fono de entrada</label>
        <select id="micSelect"></select>
      </div>
      <div class="row">
        <label>Salida Â· ConversaciÃ³n (Sandra)</label>
        <select id="outSelectRealtime"></select>
      </div>
      <div class="row">
        <label>Salida Â· Avatar</label>
        <select id="outSelectAvatar"></select>
      </div>
      <div class="row">
        <label>Idioma STT (forzado)</label>
        <select id="sttLang">
          <option value="">Auto</option>
          <option value="es">EspaÃ±ol (es)</option>
          <option value="en">English (en)</option>
          <option value="fr">FranÃ§ais (fr)</option>
          <option value="it">Italiano (it)</option>
          <option value="de">Deutsch (de)</option>
          <option value="pt">PortuguÃªs (pt)</option>
        </select>
      </div>
      <div class="row">
        <button id="btnInit">Inicializar audio</button>
        <span id="initStatus" class="status"></span>
      </div>
    </div>

    <div class="card">
      <h2>2) Dictado â†’ Texto (STT)</h2>
      <div class="row">
        <button id="btnStartSTT">Iniciar Dictado</button>
        <button id="btnStopSTT" disabled>Detener Dictado</button>
        <span id="sttStatus" class="status"></span>
      </div>
      <textarea id="sttTranscript" placeholder="TranscripciÃ³n en vivo..." rows="8"></textarea>
    </div>

    <div class="card">
      <h2>3) ConversaciÃ³n en tiempo real (OpenAI Realtime)</h2>
      <div class="row">
        <button id="btnStartRT">Conectar ConversaciÃ³n</button>
        <button id="btnStopRT" disabled>Desconectar</button>
        <span id="rtStatus" class="status"></span>
      </div>
      <div class="row">
        <label>Modelo</label>
        <input id="rtModel" value="gpt-4o-realtime-preview-2024-12-17">
      </div>
      <audio id="rtAudio" autoplay></audio>
    </div>

    <div class="card">
      <h2>4) Avatar (RTC del proveedor)</h2>
      <div class="row">
        <button id="btnStartAV">Conectar Avatar</button>
        <button id="btnStopAV" disabled>Desconectar</button>
        <span id="avStatus" class="status"></span>
      </div>
      <video id="avVideo" autoplay playsinline></video>
      <audio id="avAudio" autoplay></audio>
      <div class="small">*Integra el SDK/RTC del proveedor (HeyGen/GIGN/Cartesia) en app.js â†’ secciÃ³n Avatar.</div>
    </div>
  </section>

  <footer>
    <p>Â© <span id="year"></span> GuestsValencia Â· Demo tÃ©cnica. Construido con cariÃ±o para Claytis ğŸ’™</p>
  </footer>

  <script src="app.js"></script>
</body>
</html>
